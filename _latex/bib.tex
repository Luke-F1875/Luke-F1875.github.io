%================================================
% Configure Bibliography
%================================================
\RequirePackage[maxbibnames=12,backref=false,style=numeric,maxcitenames=2,backend=biber,natbib=true,uniquelist=false,uniquename=false,giveninits=true,sorting=none]{biblatex}

\addbibresource{../_bibliography/papers.bib}
\AtEveryBibitem{\clearfield{doi}}
\AtEveryBibitem{\clearfield{url}}
\AtEveryBibitem{\clearfield{month}}
\AtEveryBibitem{\clearfield{day}}
\AtEveryBibitem{\clearfield{isbn}}
\AtEveryBibitem{\clearfield{issn}}
\AtEveryCitekey{\clearfield{month}}
\AtEveryCitekey{\clearfield{day}}
\AtEveryCitekey{\clearfield{pages}}
\AtEveryCitekey{\clearfield{extradate}}

\DeclareSourcemap{
  \maps[datatype=bibtex]{
    \map[overwrite=true]{
      \step[fieldset=organization, null]
      \step[fieldset=publisher, null]
    }
  }
}


%\DeclareSourcemap{
%	\maps[datatype=bibtex, overwrite]{
%		\map{
%			\perdatasource{dissertation.bib}
%			\step[fieldset=KEYWORDS, fieldvalue=references, append]
%		}
%	}
%}

%https://tex.stackexchange.com/questions/376714/author-name-and-first-name-order-with-biblatex
\DeclareNameAlias{sortname}{last-first}

%https://tex.stackexchange.com/questions/111363/exclude-fullcite-citation-from-bibliography
\DeclareBibliographyCategory{inbib}

\makeatletter
\AtEveryCitekey{%
	\ifcsstring{blx@delimcontext}{fullcite}
	{}
	{\addtocategory{inbib}{\thefield{entrykey}}}}
\makeatother

%https://tex.stackexchange.com/questions/135930/use-bibentry-with-biblatex
\makeatletter
\DeclareCiteCommand{\fullcite}
{\defcounter{maxnames}{99}%
	\usebibmacro{prenote}}
{\usedriver
	%{\DeclareNameAlias{sortname}{last-first}} %changes order like in bib
	{\DeclareNameAlias{sortname}{default}}
	{\thefield{entrytype}}}
{\multicitedelim}
{\usebibmacro{postnote}}
\makeatother



\makeatletter
\newcommand{\showbib}[1]{%
	\nocite{#1}%
	\noindent \fullcite{#1}.\filbreak
}
\makeatother

\makeatletter
\newcommand{\showbibcv}[1]{%
	\nocite{#1}%
	\noindent \fullcite{#1}.
}
\makeatother


\usepackage{xpatch}



\makeatletter
\def\hlblx@bibfile@name{\jobname -boldnames.bib}
\newwrite\hlblx@bibfile
\immediate\openout\hlblx@bibfile=\hlblx@bibfile@name

\newcounter{hlblx@name}
\setcounter{hlblx@name}{0}

\newcommand*{\hlblx@writenametobib}[1]{%
  \stepcounter{hlblx@name}%
  \edef\hlblx@tmp@nocite{%
    \noexpand\AfterPreamble{%
      \noexpand\setbox0\noexpand\vbox{%
        \noexpand\hlblx@getmethehash{hlblx@name@\the\value{hlblx@name}}}}%
  }%
  \hlblx@tmp@nocite
  \immediate\write\hlblx@bibfile{%
    @misc{hlblx@name@\the\value{hlblx@name}, author = {\unexpanded{#1}}, %
          options = {dataonly=true},}%
  }%
}

\AtEndDocument{%
  \closeout\hlblx@bibfile}

\addbibresource{\hlblx@bibfile@name}

\newcommand*{\hlbxl@boldhashes}{}
\DeclareNameFormat{hlblx@hashextract}{%
  \xifinlist{\thefield{hash}}{\hlbxl@boldhashes}
    {}
    {\listxadd{\hlbxl@boldhashes}{\thefield{fullhash}}}}

\DeclareCiteCommand{\hlblx@getmethehash}
  {}
  {\printnames[hlblx@hashextract][1-999]{author}}
  {}
  {}

\newcommand*{\addboldnames}{\forcsvlist\hlblx@writenametobib}
\newcommand*{\resetboldnames}{\def\hlbxl@boldhashes{}}

\newbibmacro*{name:bold}{%
  \def\do##1{\iffieldequalstr{hash}{##1}{\bfseries\listbreak}{}}%
  \dolistloop{\hlbxl@boldhashes}%
}
\makeatother

\xpretobibmacro{name:family}{\begingroup\usebibmacro{name:bold}}{}{}
\xpretobibmacro{name:given-family}{\begingroup\usebibmacro{name:bold}}{}{}
\xpretobibmacro{name:family-given}{\begingroup\usebibmacro{name:bold}}{}{}
\xpretobibmacro{name:delim}{\begingroup\normalfont}{}{}

\xapptobibmacro{name:family}{\endgroup}{}{}
\xapptobibmacro{name:given-family}{\endgroup}{}{}
\xapptobibmacro{name:family-given}{\endgroup}{}{}
\xapptobibmacro{name:delim}{\endgroup}{}{}

\addboldnames{{Bauer, Andr{\'e}}}